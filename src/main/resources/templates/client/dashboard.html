<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Client Dashboard</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">
</head>
<body>

<!-- NAVBAR -->
<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="content-wrapper">
    <h1>Welcome, <span th:text="${client.name}">Client Name</span> ðŸ‘‹</h1>
    <p style="color:#666; margin-bottom: 30px;">Hereâ€™s an overview of your recent orders and activity.</p>

    <div th:if="${orders.size() > 0}">
        <div class="header">
            <h2>Your Orders</h2>
        </div>

        <div style="overflow-x:auto;">
            <table style="width:100%; border-collapse: collapse; background:white; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.05);">
                <thead style="background:#f8f9fa; border-bottom:2px solid #e9ecef;">
                <tr>
                    <th style="padding:12px 16px; text-align:left;">Order #</th>
                    <th style="padding:12px 16px; text-align:left;">Date</th>
                    <th style="padding:12px 16px; text-align:left;">Total Price</th>
                    <th style="padding:12px 16px; text-align:left;">Books</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order : ${orders}" style="border-bottom:1px solid #f1f1f1;">
                    <td style="padding:12px 16px;" th:text="${order.id}">1</td>
                    <td style="padding:12px 16px;" th:text="${#temporals.format(order.orderDate, 'yyyy-MM-dd HH:mm')}">2025-10-11</td>
                    <td style="padding:12px 16px; color:#28a745; font-weight:600;" th:text="'$' + ${#numbers.formatDecimal(order.price, 1, 2)}">$49.99</td>
                    <td style="padding:12px 16px;">
                        <ul style="list-style:none; margin:0; padding:0;">
                            <li th:each="bookItem : ${order.bookItems}"
                                th:text="${bookItem.book.name} + ' Ã— ' + ${bookItem.quantity}">Book Name Ã— 1</li>
                        </ul>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div th:if="${orders.size() == 0}" class="empty-state">
        <h2>No Orders Yet</h2>
        <p>You havenâ€™t placed any orders yet. Start exploring our catalog!</p>
        <a href="/books" class="btn btn-primary">Browse Books</a>
    </div>
</div>

</body>
</html>
